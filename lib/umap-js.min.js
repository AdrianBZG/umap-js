!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Math.random),t()}function i(t){for(var e=[],n=0;n<t;n++)e.push(void 0);return e}function o(t,e){return i(t).map(function(){return e})}function a(t){return t.reduce(function(t,e){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.randomNormal2d=function(t,e,n,i){return void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=[1,1]),void 0===i&&(i=Math.random),Array(n[0]).fill(0).map(function(){return Array(n[1]).fill(0).map(function(){return function(t,e,n){void 0===n&&(n=Math.random);var i=r(n),o=r(n);return Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*o)*e+t}(t,e,i)})})},e.tauRandInt=function(t,e){return void 0===e&&(e=Math.random),Math.floor(e()*t)},e.tauRand=r,e.norm=function(t){for(var e=0,n=0,r=t;n<r.length;n++){var i=r[n];e+=Math.pow(i,2)}return Math.sqrt(e)},e.empty=i,e.range=function(t){return i(t).map(function(t,e){return e})},e.filled=o,e.zeros=function(t){return o(t,0)},e.ones=function(t){return o(t,1)},e.sum=a,e.mean=function(t){return a(t)/t.length},e.max=function(t){for(var e=0,n=0;n<t.length;n++)e=t[n]>e?t[n]:e;return e},e.max2d=function(t){for(var e=0,n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)e=t[n][r]>e?t[n][r]:e;return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);window.UMAP=r.UMAP},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{h(r.next(t))}catch(t){o(t)}}function s(t){try{h(r.throw(t))}catch(t){o(t)}}function h(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}h((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(4),s=n(6),h=n(0),u=function(){function t(t){void 0===t&&(t={}),this.nNeighbors=15,this.nComponents=2,this.nEpochs=0,this.random=Math.random,this.distanceFn=l,this.isInitialized=!1,this.embedding=[],this.optimizationState=new c,this.nComponents=t.nComponents||this.nComponents,this.nEpochs=t.nEpochs||this.nEpochs,this.nNeighbors=t.nNeighbors||this.nNeighbors,this.random=t.random||this.random}return t.prototype.fit=function(t){return this.initializeFit(t),this.optimizeLayout(),this.embedding},t.prototype.fitAsync=function(t,e){return void 0===e&&(e=function(){return!0}),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return this.initializeFit(t),[4,this.optimizeLayout(e)];case 1:return n.sent(),[2,this.embedding]}})})},t.prototype.initializeFit=function(t,e,n){if(this.data===t&&this.isInitialized)return this.getNEpochs();if(this.data=t,e&&n)this.knnIndices=e,this.knnDistances=n;else{var r=this.nearestNeighbors(t);this.knnIndices=r.knnIndices,this.knnDistances=r.knnDistances}this.graph=this.fuzzySimplicialSet(t);var i=this.initializeSimplicialSetEmbedding(),o=i.head,a=i.tail,s=i.epochsPerSample;return this.optimizationState.head=o,this.optimizationState.tail=a,this.optimizationState.epochsPerSample=s,this.isInitialized=!0,this.getNEpochs()},t.prototype.step=function(){var t=this.optimizationState,e=t.currentEpoch;return t.isInitialized||this.initializeOptimization(),e<this.getNEpochs()&&this.optimizeLayoutStep(e),this.optimizationState.currentEpoch},t.prototype.getEmbedding=function(){return this.embedding},t.prototype.nearestNeighbors=function(t){var e,n=this.distanceFn,r=this.nNeighbors,i=a.makeNNDescent(n,this.random),o=5+Math.floor(.5===(e=Math.pow(t.length,.5)/20)?0:Math.round(e)),h=Math.max(5,Math.floor(Math.round(function(t){return Math.log(t)/Math.log(2)}(t.length)))),u=s.makeForest(t,r,o,this.random),l=i(t,s.makeLeafArray(u),r,h);return{knnIndices:l.indices,knnDistances:l.weights}},t.prototype.fuzzySimplicialSet=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1);var r=this.nNeighbors,i=this.knnIndices,a=void 0===i?[]:i,s=this.knnDistances,h=void 0===s?[]:s,u=this.smoothKNNDistance(h,r,e),l=u.sigmas,c=u.rhos,f=this.computeMembershipStrengths(a,h,l,c),p=f.rows,d=f.cols,v=f.vals,m=[t.length,t.length],g=new o.SparseMatrix(p,d,v,m),y=o.transpose(g),b=o.dotMultiply(g,y),w=o.subtract(o.add(g,y),b),M=o.multiplyScalar(w,n),S=o.multiplyScalar(b,1-n);return o.add(M,S)},t.prototype.smoothKNNDistance=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=64),void 0===i&&(i=1);for(var o=Math.log(e)/Math.log(2)*i,a=h.zeros(t.length),s=h.zeros(t.length),u=0;u<t.length;u++){var l=0,c=1/0,f=1,p=t[u],d=p.filter(function(t){return t>0});if(d.length>=n){var v=Math.floor(n),m=n-v;v>0?(a[u]=d[v-1],m>1e-5&&(a[u]+=m*(d[v]-d[v-1]))):a[u]=m*d[0]}else d.length>0&&(a[u]=h.max(d));for(var g=0;g<r;g++){for(var y=0,b=1;b<t[u].length;b++){var w=t[u][b]-a[u];y+=w>0?Math.exp(-w/f):1}if(Math.abs(y-o)<1e-5)break;y>o?f=(l+(c=f))/2:(l=f,c===1/0?f*=2:f=(l+c)/2)}if(s[u]=f,a[u]>0){var M=h.mean(p);s[u]<.001*M&&(s[u]=.001*M)}else{var S=h.mean(t.map(h.mean));s[u]<.001*S&&(s[u]=.001*S)}}return{sigmas:s,rhos:a}},t.prototype.computeMembershipStrengths=function(t,e,n,r){for(var i=t.length,o=t[0].length,a=h.zeros(i*o),s=h.zeros(i*o),u=h.zeros(i*o),l=0;l<i;l++)for(var c=0;c<o;c++){var f=0;-1!==t[l][c]&&(f=t[l][c]===l?0:e[l][c]-r[l]<=0?1:Math.exp(-(e[l][c]-r[l])/n[l]),a[l*o+c]=l,s[l*o+c]=t[l][c],u[l*o+c]=f)}return{rows:a,cols:s,vals:u}},t.prototype.initializeSimplicialSetEmbedding=function(){for(var t=this,e=this.getNEpochs(),n=this.nComponents,r=this.graph.getValues(),i=0,o=0;o<r.length;o++){var a=r[o];i<r[o]&&(i=a)}var s=this.graph.map(function(t){return t<i/e?0:t});this.embedding=h.zeros(s.nRows).map(function(){return h.zeros(n).map(function(){return 20*h.tauRand(t.random)-10})});var u=[],l=[],c=[];for(o=0;o<s.nRows;o++)for(var f=0;f<s.nCols;f++){(a=s.get(o,f))&&(u.push(a),c.push(o),l.push(f))}return{head:l,tail:c,epochsPerSample:this.makeEpochsPerSample(u,e)}},t.prototype.makeEpochsPerSample=function(t,e){var n=h.filled(t.length,-1),r=h.max(t),i=t.map(function(t){return t/r*e});return i.forEach(function(t,r){t>0&&(n[r]=e/i[r])}),n},t.prototype.initializeOptimization=function(){var t=this.embedding,e=this.embedding,n=this.optimizationState,r=n.head,i=n.tail,o=n.epochsPerSample,a=this.getNEpochs(),s=this.graph.nCols,h=t[0].length,u=t.length===e.length,l=o.map(function(t){return t/5}),c=l.slice(),f=o.slice();Object.assign(this.optimizationState,{isInitialized:!0,headEmbedding:t,tailEmbedding:e,head:r,tail:i,epochsPerSample:o,epochOfNextSample:f,epochOfNextNegativeSample:c,epochsPerNegativeSample:l,moveOther:u,initialAlpha:1,alpha:1,gamma:1,a:1.5769434603113077,b:.8950608779109733,dim:h,nEpochs:a,nVertices:s})},t.prototype.optimizeLayoutStep=function(t){for(var e=this.optimizationState,n=e.head,r=e.tail,i=e.headEmbedding,o=e.tailEmbedding,a=e.epochsPerSample,s=e.epochOfNextSample,u=e.epochOfNextNegativeSample,l=e.epochsPerNegativeSample,c=e.moveOther,d=e.initialAlpha,v=e.alpha,m=e.gamma,g=e.a,y=e.b,b=e.dim,w=e.nEpochs,M=e.nVertices,S=0;S<a.length;S++)if(!(s[S]>t)){var z=n[S],N=r[S],k=i[z],E=o[N],P=p(k,E),x=0;P>0&&(x=-2*g*y*Math.pow(P,y-1),x/=g*Math.pow(P,y)+1);for(var C=0;C<b;C++){var O=f(x*(k[C]-E[C]),4);k[C]+=O*v,c&&(E[C]+=-O*v)}s[S]+=a[S];for(var R=Math.floor((t-u[S])/l[S]),_=0;_<R;_++){var I=h.tauRandInt(M,this.random),j=o[I],L=p(k,j),A=0;if(L>0)A=2*m*y,A/=(.001+L)*(g*Math.pow(L,y)+1);else if(z===I)continue;for(C=0;C<b;C++){O=4;A>0&&(O=f(A*(k[C]-j[C]),4)),k[C]+=O*v}}u[S]+=R*l[S]}return e.alpha=d*(1-t/w),e.currentEpoch+=1,this.embedding=i,e.currentEpoch},t.prototype.optimizeLayout=function(t){var e=this;return void 0===t&&(t=function(){return!0}),this.optimizationState.isInitialized||this.initializeOptimization(),new Promise(function(n,o){var a=function(){return r(e,void 0,void 0,function(){var e,r,s,h,u,l;return i(this,function(i){try{if(e=this.optimizationState,r=e.nEpochs,s=e.currentEpoch,h=this.optimizeLayoutStep(s),u=!1===t(h),l=h===r,u||l)return[2,n(l)];a()}catch(t){o(t)}return[2]})})};a()})},t.prototype.getNEpochs=function(){var t=this.graph;if(this.nEpochs>0)return this.nEpochs;var e=t.nRows;return e<=2500?500:e<=5e3?400:e<=7500?300:200},t}();function l(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}e.UMAP=u,e.euclidean=l,e.cosine=function(t,e){for(var n=0,r=0,i=0,o=0;o<t.length;o++)n+=t[o]*e[o],r+=Math.pow(t[o],2),i+=Math.pow(e[o],2);return 0===r&&0===i?0:0===r||0===i?1:1-n/Math.sqrt(r*i)};var c=function(){return function(){this.currentEpoch=0,this.isInitialized=!1,this.headEmbedding=[],this.tailEmbedding=[],this.head=[],this.tail=[],this.epochsPerSample=[],this.epochOfNextSample=[],this.epochOfNextNegativeSample=[],this.epochsPerNegativeSample=[],this.moveOther=!0,this.initialAlpha=1,this.alpha=1,this.gamma=1,this.a=1.5769434603113077,this.b=.8950608779109733,this.dim=2,this.nEpochs=500,this.nVertices=0}}();function f(t,e){return t>e?e:t<-e?-e:t}function p(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){this.entries=new Map,this.nRows=0,this.nCols=0,this.rows=t.slice(),this.cols=e.slice(),this.values=n.slice();for(var i=0;i<n.length;i++){var o=this.makeKey(this.rows[i],this.cols[i]);this.entries.set(o,i)}this.nRows=r[0],this.nCols=r[0]}return t.prototype.makeKey=function(t,e){return t+":"+e},t.prototype.checkDims=function(t,e){if(!(t<this.nRows&&e<this.nCols))throw new Error("array index out of bounds")},t.prototype.set=function(t,e,n){this.checkDims(t,e);var r=this.makeKey(t,e);if(this.entries.has(r)){var i=this.entries.get(r);this.values[i]=n}else this.rows.push(t),this.cols.push(e),this.values.push(n),this.entries.set(r,this.values.length-1)},t.prototype.get=function(t,e,n){void 0===n&&(n=0),this.checkDims(t,e);var r=this.makeKey(t,e);if(this.entries.has(r)){var i=this.entries.get(r);return this.values[i]}return n},t.prototype.getRows=function(){return this.rows.slice()},t.prototype.getCols=function(){return this.cols.slice()},t.prototype.getValues=function(){return this.values.slice()},t.prototype.forEach=function(t){for(var e=0;e<this.values.length;e++)t(this.values[e],this.rows[e],this.cols[e])},t.prototype.map=function(e){for(var n=[],r=0;r<this.values.length;r++)n.push(e(this.values[r],this.rows[r],this.cols[r]));var i=[this.nRows,this.nCols];return new t(this.rows,this.cols,n,i)},t.prototype.toArray=function(){for(var t=this,e=new Array(this.nRows).slice().map(function(){return new Array(t.nCols).slice().map(function(){return 0})}),n=0;n<this.values.length;n++)e[this.rows[n]][this.cols[n]]=this.values[n];return e},t}();function i(t,e,n){for(var i=new Set,o=[],a=[],s=[],h=function(r,i){o.push(r),a.push(i);var h=n(t.get(r,i),e.get(r,i));s.push(h)},u=t.getValues(),l=t.getRows(),c=t.getCols(),f=0;f<u.length;f++){var p=(g=l[f])+":"+(y=c[f]);i.add(p),h(g,y)}var d=e.getValues(),v=e.getRows(),m=e.getCols();for(f=0;f<d.length;f++){var g,y;p=(g=v[f])+":"+(y=m[f]);i.has(p)||h(g,y)}var b=[t.nRows,t.nCols];return new r(o,a,s,b)}e.SparseMatrix=r,e.transpose=function(t){var e=[],n=[],i=[];t.forEach(function(t,r,o){e.push(r),n.push(o),i.push(t)});var o=[t.nCols,t.nRows];return new r(n,e,i,o)},e.identity=function(t){for(var e=t[0],n=new r([],[],[],t),i=0;i<e;i++)n.set(i,i,1);return n},e.dotMultiply=function(t,e){return i(t,e,function(t,e){return t*e})},e.add=function(t,e){return i(t,e,function(t,e){return t+e})},e.subtract=function(t,e){return i(t,e,function(t,e){return t-e})},e.multiplyScalar=function(t,e){return t.map(function(t){return t*e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(0);e.makeNNDescent=function(t,e){return function(n,o,a,s,h,u,l,c){void 0===s&&(s=10),void 0===h&&(h=50),void 0===u&&(u=.001),void 0===l&&(l=.5),void 0===c&&(c=!0);for(var f=n.length,p=r.makeHeap(n.length,a),d=0;d<n.length;d++)for(var v=r.rejectionSample(a,n.length,e),m=0;m<v.length;m++){var g=t(n[d],n[v[m]]);r.heapPush(p,d,g,v[m],1),r.heapPush(p,v[m],g,d,1)}if(c)for(var y=0;y<o.length;y++)for(d=0;d<o[y].length&&!(o[y][d]<0);d++)for(m=d+1;m<o[y].length&&!(o[y][m]<0);m++)g=t(n[o[y][d]],n[o[y][m]]),r.heapPush(p,o[y][d],g,o[y][m],1),r.heapPush(p,o[y][m],g,o[y][d],1);for(y=0;y<s;y++){var b=r.buildCandidates(p,f,a,h,e),w=0;for(d=0;d<f;d++)for(m=0;m<h;m++){var M=Math.floor(b[0][d][m]);if(!(M<0||i.tauRand(e)<l))for(var S=0;S<h;S++){var z=Math.floor(b[0][d][S]),N=b[2][d][m],k=b[2][d][S];z<0||!N&&!k||(g=t(n[M],n[z]),w+=r.heapPush(p,M,g,z,1),w+=r.heapPush(p,z,g,M,1))}}if(w<=u*a*n.length)break}return r.deheapSort(p)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);function i(t,e){var n=function(n){return r.empty(t).map(function(){return r.filled(e,n)})},i=[];return i.push(n(-1)),i.push(n(1/0)),i.push(n(0)),i}function o(t,e,n,r,i){e=Math.floor(e);var o=t[0][e],a=t[1][e],s=t[2][e];if(n>=a[0])return 0;for(var h=0;h<o.length;h++)if(r===o[h])return 0;a[0]=n,o[0]=r,s[0]=i;for(var u=0,l=0;;){var c=2*u+1,f=c+1,p=t[0][0].length;if(c>=p)break;if(f>=p){if(!(a[c]>n))break;l=c}else if(a[c]>=a[f]){if(!(n<a[c]))break;l=c}else{if(!(n<a[f]))break;l=f}a[u]=a[l],o[u]=o[l],s[u]=s[l],u=l}return a[u]=n,o[u]=r,s[u]=i,1}function a(t,e,n,r){for(;2*r+1<n;){var i=2*r+1,o=i+1,a=r;if(t[a]<t[i]&&(a=i),o<n&&t[a]<t[o]&&(a=o),a===r)break;var s=t[r];t[r]=t[a],t[a]=s;var h=e[r];e[r]=e[a],e[a]=h,r=a}}e.makeHeap=i,e.rejectionSample=function(t,e,n){for(var i=r.zeros(t),o=0;o<t;o++){for(var a=!0,s=0;a;){s=r.tauRandInt(e,n);for(var h=!1,u=0;u<o;u++)if(s===i[u]){h=!0;break}h||(a=!1)}i[o]=s}return i},e.heapPush=o,e.buildCandidates=function(t,e,n,a,s){for(var h=i(e,a),u=0;u<e;u++)for(var l=0;l<n;l++)if(!(t[0][u][l]<0)){var c=t[0][u][l],f=t[2][u][l],p=r.tauRand(s);o(h,u,p,c,f),o(h,c,p,u,f),t[2][u][l]=0}return h},e.deheapSort=function(t){for(var e=t[0],n=t[1],r=0;r<e.length;r++)for(var i=e[r],o=n[r],s=0;s<i.length-1;s++){var h=i.length-s-1,u=o.length-s-1,l=i[0];i[0]=i[h],i[h]=l;var c=o[0];o[0]=o[u],o[u]=c,a(o,i,u,0)}return{indices:e,weights:n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){return function(t,e,n,r){this.hyperplanes=t,this.offsets=e,this.children=n,this.indices=r}}();e.FlatTree=i,e.makeForest=function(t,e,n,o){var a=Math.max(10,e);return r.range(n).map(function(e,n){return function(t,e,n,i){void 0===e&&(e=30);var o=r.range(t.length);return function t(e,n,i,o,a){if(void 0===i&&(i=30),n.length>i){var s=function(t,e,n){var i=t[0].length,o=r.tauRandInt(e.length,n),a=r.tauRandInt(e.length,n);a=(a+=o===a?1:0)%e.length;for(var s=e[o],h=e[a],u=0,l=r.zeros(i),c=0;c<l.length;c++)l[c]=t[s][c]-t[h][c],u-=l[c]*(t[s][c]+t[h][c])/2;for(var f=0,p=0,d=r.zeros(e.length),c=0;c<e.length;c++){for(var v=u,m=0;m<i;m++)v+=l[m]*t[e[c]][m];0===v?(d[c]=r.tauRandInt(2,n),0===d[c]?f+=1:p+=1):v>0?(d[c]=0,f+=1):(d[c]=1,p+=1)}var g=r.zeros(f),y=r.zeros(p);for(var c in f=0,p=0,r.range(d.length))0===d[c]?(g[f]=e[c],f+=1):(y[p]=e[c],p+=1);return{indicesLeft:g,indicesRight:y,hyperplane:l,offset:u}}(e,n,a),h=s.indicesLeft,u=s.indicesRight,l=s.hyperplane,c=s.offset,f=t(e,h,i,o+1,a),p=t(e,u,i,o+1,a),d={leftChild:f,rightChild:p,isLeaf:!1,hyperplane:l,offset:c};return d}var d={indices:n,isLeaf:!0};return d}(t,o,e,n,i)}(t,a,n,o)}).map(function(t){return function(t,e){var n=function t(e){return e.isLeaf?1:1+t(e.leftChild)+t(e.rightChild)}(t),o=function t(e){return e.isLeaf?1:t(e.leftChild)+t(e.rightChild)}(t),a=r.range(n).map(function(){return r.zeros(t.hyperplane.length)}),s=r.zeros(n),h=r.range(n).map(function(){return[-1,-1]}),u=r.range(o).map(function(){return r.range(e).map(function(){return-1})});return function t(e,n,r,i,o,a,s){var h;if(e.isLeaf)return i[a][0]=-s,(h=o[s]).splice.apply(h,[0,e.indices.length].concat(e.indices)),{nodeNum:a,leafNum:s+=1};n[a]=e.hyperplane,r[a]=e.offset,i[a][0]=a+1;var u=a,l=t(e.leftChild,n,r,i,o,a+1,s);return a=l.nodeNum,s=l.leafNum,i[u][1]=a+1,{nodeNum:(l=t(e.rightChild,n,r,i,o,a+1,s)).nodeNum,leafNum:l.leafNum}}(t,a,s,h,u,0,0),new i(a,s,h,u)}(t,a)})},e.makeLeafArray=function(t){if(t.length>0){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];e.push.apply(e,i.indices)}return e}return[[-1]]}}]);